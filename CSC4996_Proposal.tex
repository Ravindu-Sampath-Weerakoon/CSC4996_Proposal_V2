\documentclass[12pt, a4paper]{article}

% =========================================================
% 1. PACKAGES & SETUP
% =========================================================

% --- Encoding & Fonts ---
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}

% --- Page Layout & Geometry ---
\usepackage[top=1in, bottom=1in, left=1.25in, right=1.25in]{geometry}
\usepackage{setspace} % For line spacing (1.5 or double)
\usepackage{titlesec} % For custom section formatting
\usepackage{tocloft}  % For Table of Contents formatting

% --- Tables (CRITICAL: Load Order Matters) ---
\usepackage[table]{xcolor} % Must be loaded BEFORE booktabs/tikz
\usepackage{booktabs}      % Professional table rules (toprule, midrule)
\usepackage{array}         % For advanced column formatting
\usepackage{tabularx}      % For adjustable-width columns
\usepackage{longtable}     % For tables that span multiple pages
\usepackage{xltabular}     % Hybrid of longtable and tabularx (The Gold Standard)
\usepackage{ragged2e}      % For better text wrapping (\raggedright in tables)
\usepackage{multirow}      % Useful for complex headers

% --- Graphics & Visualization ---
\usepackage{graphicx}
\usepackage{float}         % For [H] placement option
\usepackage{tikz}          % For drawing system architecture diagrams
\usepackage{pgfgantt}      % For Project Schedule (Gantt Chart)

\usepackage{microtype}     % Magically fixes small overfull hbox warnings

% --- TikZ Libraries ---
\usetikzlibrary{
    shapes, 
    shapes.geometric, 
    shapes.symbols, 
    arrows.meta, 
    positioning, 
    fit, 
    calc, 
    shadows,
    decorations.pathreplacing, 
    decorations.pathmorphing
}

% --- Code Listings ---
\usepackage{listings}
\lstset{
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue},
    commentstyle=\color{green!50!black},
    stringstyle=\color{red},
    breaklines=true,
    frame=single,
    numbers=left,
    numberstyle=\tiny\color{gray}
}

% --- Math & Citations ---
\usepackage{amsmath}              % Required for math and equations
\usepackage{amssymb}              % Additional math symbols
\usepackage[style=ieee, backend=biber]{biblatex} % IEEE Citation Style
\addbibresource{references.bib}   % Link your bibliography file

% --- Navigation & Acronyms ---
\usepackage[printonlyused]{acronym} % For List of Abbreviations
\usepackage[hidelinks]{hyperref}    % Interactive links (Load last)

% =========================================================
% 2. CUSTOM STYLING & FORMATTING
% =========================================================

% --- A. Warning Suppression (Cleaner Logs) ---
% Silences "Overfull \hbox" warnings less than 20pt (invisible to eye)
\hfuzz=20pt 
% Silences "Underfull \hbox" warnings (stretched spacing)
\hbadness=10000 

% --- B. Table of Contents Styling ---
\makeatletter
\renewcommand{\@dotsep}{2} 
\makeatother

\renewcommand{\cftsecdotsep}{\cftdotsep} 
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}} 
\renewcommand{\cftsecfont}{\bfseries} 
\renewcommand{\cftsecpagefont}{\bfseries}

% --- C. Section Numbering & Spacing ---
% Space between Section number "1.0" and title "Introduction"
\setlength{\cftsecnumwidth}{3.0em} 

% Vertical space between Section (1.0) and Subsection (1.1)
\setlength{\cftbeforesecskip}{1.0em}    % Space above "1.0 Introduction"
\setlength{\cftbeforesubsecskip}{0.4em} % Space above "1.1 Problem Statement"

% Indentation for Subsections
\setlength{\cftsecindent}{0pt}
\setlength{\cftsubsecindent}{3.0em} 
\renewcommand{\cftsubsecfont}{\normalfont}

% --- D. Section Font Sizes (16pt/14pt) ---
\titleformat{\section}
  {\normalfont\fontsize{16pt}{20pt}\bfseries}{\thesection}{1em}{}

\titleformat{\subsection}
  {\normalfont\fontsize{14pt}{18pt}\bfseries}{\thesubsection}{1em}{}

% --- E. Custom Numbering (1.0, 2.0) ---
\renewcommand{\thesection}{\arabic{section}.0}
\renewcommand{\thesubsection}{\arabic{section}.\arabic{subsection}}

% --- F. List of Equations Setup ---
\newcommand{\listequationsname}{List of Equations}
\newlistof{equations}{equ}{\listequationsname}

% Command to use INSIDE equation blocks: \eqname{Title}
\newcommand{\eqname}[1]{%
    \addcontentsline{equ}{equations}{\protect\numberline{\theequation}#1}%
}

% Style the list to match TOC indentation
\setlength{\cftequationsnumwidth}{2.5em} 
\setlength{\cftequationsindent}{1.5em}   

% --- G. Table Fixes ---
\raggedbottom 
\setlength{\tabcolsep}{6pt} % Default table padding

% =========================================================
% 3. DOCUMENT CONTENT
% =========================================================
\begin{document}

% --- PART 1: FRONT MATTER (Roman Numerals) ---
\pagenumbering{roman} 
\setcounter{page}{1}

% Page i: Title Page
\input{titlepage} 
\clearpage

% Pages ii - vii: Standard Front Matter
\input{frontmatter/preface.tex}          % Page ii
\input{frontmatter/tableofcontents.tex}  % Page iii
\input{frontmatter/listoffigures.tex}    % Page iv
\input{frontmatter/listoftables.tex}     % Page v
\input{frontmatter/listofequations.tex}  % Page vi
\input{frontmatter/abbreviations.tex}    % Page vii

% --- PART 2: MAIN CONTENT (Arabic Numerals) ---
\clearpage
\pagenumbering{arabic}
\setcounter{page}{1} 

% University Standard Spacing (1.5)
\onehalfspacing 

\input{sections/1_introduction} 
\input{sections/2_background}   
\input{sections/3_methodology}  
\input{sections/4_results}      
\input{sections/5_project_schedule} 

% --- PART 3: REFERENCES & APPENDICES ---
\clearpage

% References Header Styling
\defbibheading{upperbib}{%
    \section*{References} 
    \addcontentsline{toc}{section}{REFERENCES} 
}
\printbibliography[heading=upperbib]

\newpage
% Appendices
\appendix % Switch to Appendix numbering (A, B, C...)
\input{sections/appendices}

\end{document}